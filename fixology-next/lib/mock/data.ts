import type { 
  Customer, 
  InventoryItem, 
  Ticket, 
  TicketStatus, 
  TicketNote, 
  StatusChange, 
  PartUsage,
  Invoice,
  Payment,
  Estimate,
  WarrantyClaim,
} from './types'

const now = new Date()
const iso = (d: Date) => d.toISOString()
const addHours = (h: number) => iso(new Date(now.getTime() + h * 60 * 60 * 1000))
const subHours = (h: number) => iso(new Date(now.getTime() - h * 60 * 60 * 1000))
const subDays = (d: number) => iso(new Date(now.getTime() - d * 24 * 60 * 60 * 1000))

export const mockTechs = ['Ava', 'Miles', 'Noah', 'Sofia', 'Jae'] as const

export const mockTickets: Ticket[] = [
  {
    id: 't_1001',
    ticketNumber: 'FIX-1041',
    customerId: 'c_2001',
    customerName: 'Jordan Lee',
    customerPhone: '(512) 555-0142',
    customerEmail: 'jordan.lee@email.com',
    device: 'Apple iPhone 14 Pro â€¢ Screen',
    deviceType: 'iPhone',
    deviceModel: '14 Pro',
    imei: '353912847562819',
    passcode: '1234',
    issue: 'Cracked screen after drop',
    symptoms: ['Screen cracked', 'Touch works', 'Display flickering'],
    repairType: 'Screen Replacement',
    status: 'INTAKE',
    priority: 'high',
    promisedAt: addHours(6),
    risk: 'none',
    price: 219,
    deposit: 50,
    depositPaid: true,
    assignedTo: 'Ava',
    createdAt: subDays(0),
    source: 'walk-in',
    tags: ['VIP', 'Rush'],
    notes: [
      { id: 'n1', text: 'Customer is VIP - prioritize this repair', author: 'Ava', createdAt: subHours(2), isInternal: true },
      { id: 'n2', text: 'Your device has been checked in. We\'ll update you soon!', author: 'System', createdAt: subHours(1), isInternal: false },
    ],
    statusHistory: [
      { from: null, to: 'INTAKE', changedBy: 'Ava', changedAt: subHours(2) },
    ],
  },
  {
    id: 't_1002',
    ticketNumber: 'FIX-1042',
    customerId: 'c_2002',
    customerName: 'Maya Patel',
    customerPhone: '(512) 555-0199',
    customerEmail: 'maya.patel@email.com',
    device: 'Samsung S23 Ultra â€¢ Battery',
    deviceType: 'Samsung',
    deviceModel: 'S23 Ultra',
    imei: '359271847562930',
    issue: 'Battery drains quickly, phone gets hot',
    symptoms: ['Fast battery drain', 'Overheating', 'Random shutdowns'],
    diagnosis: 'Battery degraded to 72% health. Recommend replacement.',
    repairType: 'Battery Replacement',
    status: 'DIAGNOSED',
    priority: 'medium',
    promisedAt: addHours(10),
    risk: 'low',
    riskReasons: ['Previous water damage noted'],
    price: 149,
    assignedTo: 'Noah',
    createdAt: subDays(1),
    startedAt: subHours(4),
    source: 'appointment',
    partsUsed: [
      { partId: 'i_3002', partName: 'Galaxy S23 Ultra Battery', quantity: 1, unitPrice: 39 },
    ],
    notes: [
      { id: 'n3', text: 'Diagnosed - battery at 72% health', author: 'Noah', createdAt: subHours(3), isInternal: true },
    ],
    statusHistory: [
      { from: null, to: 'INTAKE', changedBy: 'System', changedAt: subDays(1) },
      { from: 'INTAKE', to: 'DIAGNOSED', changedBy: 'Noah', changedAt: subHours(4), note: 'Battery health confirmed at 72%' },
    ],
  },
  {
    id: 't_1003',
    ticketNumber: 'FIX-1043',
    customerId: 'c_2003',
    customerName: 'Chris Nguyen',
    customerPhone: '(512) 555-0111',
    customerEmail: 'chris.nguyen@email.com',
    device: 'Google Pixel 8 â€¢ Charging Port',
    deviceType: 'Google',
    deviceModel: 'Pixel 8',
    issue: 'Phone won\'t charge, port feels loose',
    symptoms: ['No charging', 'Loose port', 'Intermittent connection'],
    diagnosis: 'USB-C port damaged, debris present. Port replacement needed.',
    repairType: 'Charging Port Replacement',
    status: 'WAITING_PARTS',
    priority: 'medium',
    promisedAt: addHours(26),
    risk: 'medium',
    riskReasons: ['Part on backorder', 'Business customer - time sensitive'],
    price: 179,
    assignedTo: 'Miles',
    createdAt: subDays(2),
    source: 'walk-in',
    tags: ['Business'],
    notes: [
      { id: 'n4', text: 'Part ordered from PrimeParts, ETA 2 days', author: 'Miles', createdAt: subHours(24), isInternal: true },
      { id: 'n5', text: 'We\'re waiting on a part for your repair. ETA: 2 days.', author: 'Miles', createdAt: subHours(24), isInternal: false },
    ],
    statusHistory: [
      { from: null, to: 'INTAKE', changedBy: 'Miles', changedAt: subDays(2) },
      { from: 'INTAKE', to: 'DIAGNOSED', changedBy: 'Miles', changedAt: subDays(2) },
      { from: 'DIAGNOSED', to: 'WAITING_PARTS', changedBy: 'Miles', changedAt: subHours(24), note: 'USB-C port ordered' },
    ],
  },
  {
    id: 't_1004',
    ticketNumber: 'FIX-1044',
    customerId: 'c_2004',
    customerName: 'Taylor Brooks',
    customerPhone: '(512) 555-0107',
    customerEmail: 'taylor.brooks@email.com',
    device: 'iPad Air â€¢ LCD',
    deviceType: 'iPad',
    deviceModel: 'Air (5th gen)',
    issue: 'Display has dead pixels and color banding',
    symptoms: ['Dead pixels', 'Color banding', 'Backlight bleed'],
    diagnosis: 'LCD panel failure. Full display assembly replacement required.',
    repairType: 'LCD Replacement',
    status: 'IN_REPAIR',
    priority: 'urgent',
    promisedAt: addHours(-4),
    risk: 'high',
    riskReasons: ['Past promised time', 'Complex repair', 'New customer'],
    price: 329,
    deposit: 100,
    depositPaid: true,
    assignedTo: 'Sofia',
    createdAt: subDays(3),
    startedAt: subHours(6),
    source: 'walk-in',
    tags: ['Urgent'],
    partsUsed: [
      { partId: 'i_lcd_ipad', partName: 'iPad Air LCD Assembly', quantity: 1, unitPrice: 180 },
      { partId: 'i_3004', partName: 'Adhesive Kit (Universal)', quantity: 1, unitPrice: 2 },
    ],
    notes: [
      { id: 'n6', text: 'URGENT: Past promised time. Customer called.', author: 'Sofia', createdAt: subHours(1), isInternal: true },
      { id: 'n7', text: 'Repair in progress - running slightly behind due to complexity.', author: 'Sofia', createdAt: subHours(1), isInternal: false },
    ],
    statusHistory: [
      { from: null, to: 'INTAKE', changedBy: 'Ava', changedAt: subDays(3) },
      { from: 'INTAKE', to: 'DIAGNOSED', changedBy: 'Sofia', changedAt: subDays(2) },
      { from: 'DIAGNOSED', to: 'IN_REPAIR', changedBy: 'Sofia', changedAt: subHours(6) },
    ],
  },
  {
    id: 't_1005',
    ticketNumber: 'FIX-1045',
    customerName: 'Aiden Kim',
    customerPhone: '(512) 555-0128',
    customerEmail: 'aiden.kim@email.com',
    device: 'Apple iPhone 13 â€¢ Screen',
    deviceType: 'iPhone',
    deviceModel: '13',
    imei: '356789012345678',
    issue: 'Screen replacement - cosmetic crack',
    symptoms: ['Screen cracked', 'Touch works fine', 'No display issues'],
    diagnosis: 'Minor screen crack, cosmetic only. Standard replacement.',
    repairType: 'Screen Replacement',
    status: 'READY',
    priority: 'low',
    promisedAt: addHours(-18),
    risk: 'none',
    price: 199,
    assignedTo: 'Jae',
    createdAt: subDays(4),
    startedAt: subDays(3),
    completedAt: subHours(20),
    source: 'appointment',
    partsUsed: [
      { partId: 'i_scr_ip13', partName: 'iPhone 13 Screen (OEM)', quantity: 1, unitPrice: 95 },
      { partId: 'i_3004', partName: 'Adhesive Kit (Universal)', quantity: 1, unitPrice: 2 },
    ],
    notes: [
      { id: 'n8', text: 'Repair complete. Tested all functions - all good.', author: 'Jae', createdAt: subHours(20), isInternal: true },
      { id: 'n9', text: 'Your iPhone 13 is ready for pickup! ðŸŽ‰', author: 'System', createdAt: subHours(20), isInternal: false },
    ],
    statusHistory: [
      { from: null, to: 'INTAKE', changedBy: 'System', changedAt: subDays(4) },
      { from: 'INTAKE', to: 'DIAGNOSED', changedBy: 'Jae', changedAt: subDays(4) },
      { from: 'DIAGNOSED', to: 'IN_REPAIR', changedBy: 'Jae', changedAt: subDays(3) },
      { from: 'IN_REPAIR', to: 'READY', changedBy: 'Jae', changedAt: subHours(20), note: 'All tests passed' },
    ],
  },
  {
    id: 't_1006',
    ticketNumber: 'FIX-1046',
    customerName: 'Samantha Reed',
    customerPhone: '(512) 555-0163',
    device: 'Nintendo Switch â€¢ Fan',
    deviceType: 'Gaming Console',
    deviceModel: 'Nintendo Switch',
    issue: 'Overheating, fan not spinning',
    symptoms: ['Overheating', 'Fan not working', 'Thermal shutdown'],
    diagnosis: 'Fan motor failed. Replacement required.',
    repairType: 'Fan Replacement',
    status: 'READY',
    priority: 'low',
    promisedAt: addHours(-30),
    risk: 'none',
    price: 89,
    assignedTo: 'Miles',
    createdAt: subDays(6),
    startedAt: subDays(5),
    completedAt: subDays(2),
    source: 'walk-in',
    partsUsed: [
      { partId: 'i_fan_switch', partName: 'Nintendo Switch Fan', quantity: 1, unitPrice: 15 },
    ],
    notes: [
      { id: 'n10', text: 'Simple repair completed. Customer hasn\'t picked up yet.', author: 'Miles', createdAt: subDays(2), isInternal: true },
    ],
    statusHistory: [
      { from: null, to: 'INTAKE', changedBy: 'Miles', changedAt: subDays(6) },
      { from: 'INTAKE', to: 'DIAGNOSED', changedBy: 'Miles', changedAt: subDays(6) },
      { from: 'DIAGNOSED', to: 'IN_REPAIR', changedBy: 'Miles', changedAt: subDays(5) },
      { from: 'IN_REPAIR', to: 'READY', changedBy: 'Miles', changedAt: subDays(2) },
    ],
  },
]

export const mockCustomers: Customer[] = [
  {
    id: 'c_2001',
    firstName: 'Jordan',
    lastName: 'Lee',
    name: 'Jordan Lee',
    phone: '(512) 555-0142',
    email: 'jordan.lee@email.com',
    preferredContact: 'sms',
    notes: 'Prefers text messages. Usually picks up same day.',
    tags: ['VIP'],
    lastVisit: subDays(0),
    firstVisit: subDays(365),
    openTickets: 1,
    totalTickets: 8,
    lifetimeValue: 1847,
    averageTicketValue: 231,
    isVIP: true,
    devices: [
      { id: 'd1', type: 'iPhone', model: '14 Pro Max', imei: '353912847562819', repairCount: 3 },
      { id: 'd2', type: 'iPad', model: 'Pro 12.9"', repairCount: 1 },
    ],
    createdAt: subDays(365),
  },
  {
    id: 'c_2002',
    firstName: 'Maya',
    lastName: 'Patel',
    name: 'Maya Patel',
    phone: '(512) 555-0199',
    email: 'maya.patel@email.com',
    preferredContact: 'email',
    tags: ['Warranty'],
    lastVisit: subDays(7),
    firstVisit: subDays(120),
    openTickets: 1,
    totalTickets: 3,
    lifetimeValue: 420,
    averageTicketValue: 140,
    devices: [
      { id: 'd3', type: 'Samsung', model: 'S23 Ultra', imei: '359271847562930', repairCount: 2 },
    ],
    createdAt: subDays(120),
  },
  {
    id: 'c_2003',
    firstName: 'Chris',
    lastName: 'Nguyen',
    name: 'Chris Nguyen',
    phone: '(512) 555-0111',
    email: 'chris.nguyen@email.com',
    preferredContact: 'phone',
    notes: 'Business account. Multiple devices. Call before texting.',
    tags: ['Business'],
    lastVisit: subDays(14),
    firstVisit: subDays(400),
    openTickets: 1,
    totalTickets: 6,
    lifetimeValue: 1230,
    averageTicketValue: 205,
    isVIP: true,
    devices: [
      { id: 'd4', type: 'Google', model: 'Pixel 8', repairCount: 2 },
      { id: 'd5', type: 'Laptop', model: 'MacBook Pro 14"', repairCount: 1 },
    ],
    createdAt: subDays(400),
  },
  {
    id: 'c_2004',
    firstName: 'Taylor',
    lastName: 'Brooks',
    name: 'Taylor Brooks',
    phone: '(512) 555-0107',
    email: 'taylor.brooks@email.com',
    tags: ['New'],
    lastVisit: subDays(3),
    firstVisit: subDays(3),
    openTickets: 1,
    totalTickets: 1,
    lifetimeValue: 329,
    averageTicketValue: 329,
    devices: [
      { id: 'd6', type: 'iPad', model: 'Air (5th gen)', repairCount: 1 },
    ],
    createdAt: subDays(3),
  },
  {
    id: 'c_2005',
    firstName: 'Aiden',
    lastName: 'Kim',
    name: 'Aiden Kim',
    phone: '(512) 555-0128',
    email: 'aiden.kim@email.com',
    preferredContact: 'sms',
    lastVisit: subDays(4),
    firstVisit: subDays(180),
    openTickets: 0,
    totalTickets: 4,
    lifetimeValue: 680,
    averageTicketValue: 170,
    devices: [
      { id: 'd7', type: 'iPhone', model: '13', imei: '356789012345678', repairCount: 2 },
    ],
    createdAt: subDays(180),
  },
  {
    id: 'c_2006',
    firstName: 'Samantha',
    lastName: 'Reed',
    name: 'Samantha Reed',
    phone: '(512) 555-0163',
    lastVisit: subDays(6),
    firstVisit: subDays(90),
    openTickets: 0,
    totalTickets: 2,
    lifetimeValue: 189,
    averageTicketValue: 95,
    devices: [
      { id: 'd8', type: 'Gaming Console', model: 'Nintendo Switch', repairCount: 1 },
    ],
    createdAt: subDays(90),
  },
  {
    id: 'c_2007',
    firstName: 'Marcus',
    lastName: 'Johnson',
    name: 'Marcus Johnson',
    phone: '(512) 555-0188',
    email: 'marcus.j@email.com',
    notes: 'Disputed last invoice. Handle with care.',
    tags: ['Flagged'],
    lastVisit: subDays(45),
    firstVisit: subDays(200),
    openTickets: 0,
    totalTickets: 3,
    lifetimeValue: 450,
    averageTicketValue: 150,
    isFlagged: true,
    flagReason: 'Payment dispute on last repair. Chargeback filed.',
    devices: [
      { id: 'd9', type: 'iPhone', model: '12', repairCount: 2 },
    ],
    createdAt: subDays(200),
  },
  {
    id: 'c_2008',
    firstName: 'Elena',
    lastName: 'Rodriguez',
    name: 'Elena Rodriguez',
    phone: '(512) 555-0195',
    email: 'elena.r@email.com',
    preferredContact: 'email',
    lastVisit: subDays(120),
    firstVisit: subDays(300),
    openTickets: 0,
    totalTickets: 2,
    lifetimeValue: 380,
    averageTicketValue: 190,
    devices: [
      { id: 'd10', type: 'Samsung', model: 'S22', repairCount: 1 },
    ],
    createdAt: subDays(300),
  },
]

export const mockInventory: InventoryItem[] = [
  // Screens
  {
    id: 'i_3001',
    name: 'iPhone 14 Pro Screen (OEM)',
    sku: 'IP14P-SCR-OEM',
    category: 'screens',
    vendor: 'PrimeParts',
    onHand: 2,
    min: 5,
    unitCost: 124,
    retail: 219,
    leadTimeDays: 2,
    location: 'Bin A-1',
    lastOrdered: subDays(7),
  },
  {
    id: 'i_3005',
    name: 'iPhone 13 Screen (OEM)',
    sku: 'IP13-SCR-OEM',
    category: 'screens',
    vendor: 'PrimeParts',
    onHand: 4,
    min: 5,
    unitCost: 95,
    retail: 179,
    leadTimeDays: 2,
    location: 'Bin A-2',
  },
  {
    id: 'i_3006',
    name: 'Samsung S23 Screen (OLED)',
    sku: 'SS23-SCR-OLED',
    category: 'screens',
    vendor: 'Nova Supply',
    onHand: 3,
    min: 3,
    unitCost: 110,
    retail: 199,
    leadTimeDays: 3,
    location: 'Bin A-3',
  },
  {
    id: 'i_3007',
    name: 'iPad Air 5 LCD Assembly',
    sku: 'IPAD-AIR5-LCD',
    category: 'screens',
    vendor: 'PrimeParts',
    onHand: 1,
    min: 2,
    unitCost: 180,
    retail: 329,
    leadTimeDays: 5,
    location: 'Bin A-4',
  },
  // Batteries
  {
    id: 'i_3002',
    name: 'Galaxy S23 Ultra Battery',
    sku: 'GS23U-BATT',
    category: 'batteries',
    vendor: 'Nova Supply',
    onHand: 7,
    min: 4,
    unitCost: 39,
    retail: 149,
    leadTimeDays: 3,
    location: 'Bin B-1',
  },
  {
    id: 'i_3008',
    name: 'iPhone 14 Battery',
    sku: 'IP14-BATT',
    category: 'batteries',
    vendor: 'PrimeParts',
    onHand: 8,
    min: 5,
    unitCost: 35,
    retail: 129,
    leadTimeDays: 2,
    location: 'Bin B-2',
  },
  {
    id: 'i_3009',
    name: 'iPhone 13 Battery',
    sku: 'IP13-BATT',
    category: 'batteries',
    vendor: 'PrimeParts',
    onHand: 6,
    min: 5,
    unitCost: 32,
    retail: 119,
    leadTimeDays: 2,
    location: 'Bin B-3',
  },
  // Ports
  {
    id: 'i_3003',
    name: 'USB-C Charging Port (Pixel 8)',
    sku: 'P8-PORT-USBC',
    category: 'ports',
    vendor: 'PrimeParts',
    onHand: 1,
    min: 3,
    unitCost: 22,
    retail: 179,
    leadTimeDays: 4,
    location: 'Bin C-1',
  },
  {
    id: 'i_3010',
    name: 'Lightning Port (iPhone 14)',
    sku: 'IP14-PORT-LTN',
    category: 'ports',
    vendor: 'PrimeParts',
    onHand: 4,
    min: 3,
    unitCost: 18,
    retail: 149,
    leadTimeDays: 2,
    location: 'Bin C-2',
  },
  {
    id: 'i_3011',
    name: 'USB-C Port (Samsung S23)',
    sku: 'SS23-PORT-USBC',
    category: 'ports',
    vendor: 'Nova Supply',
    onHand: 3,
    min: 3,
    unitCost: 20,
    retail: 159,
    leadTimeDays: 3,
    location: 'Bin C-3',
  },
  // Cameras
  {
    id: 'i_3012',
    name: 'iPhone 14 Pro Rear Camera',
    sku: 'IP14P-CAM-REAR',
    category: 'cameras',
    vendor: 'PrimeParts',
    onHand: 2,
    min: 2,
    unitCost: 85,
    retail: 199,
    leadTimeDays: 4,
    location: 'Bin D-1',
  },
  {
    id: 'i_3013',
    name: 'iPhone 13 Front Camera',
    sku: 'IP13-CAM-FRONT',
    category: 'cameras',
    vendor: 'PrimeParts',
    onHand: 3,
    min: 2,
    unitCost: 45,
    retail: 129,
    leadTimeDays: 3,
    location: 'Bin D-2',
  },
  // Speakers
  {
    id: 'i_3014',
    name: 'iPhone 14 Earpiece Speaker',
    sku: 'IP14-SPK-EAR',
    category: 'speakers',
    vendor: 'PrimeParts',
    onHand: 5,
    min: 3,
    unitCost: 12,
    retail: 79,
    leadTimeDays: 2,
    location: 'Bin E-1',
  },
  {
    id: 'i_3015',
    name: 'iPhone 13 Loudspeaker',
    sku: 'IP13-SPK-LOUD',
    category: 'speakers',
    vendor: 'PrimeParts',
    onHand: 4,
    min: 3,
    unitCost: 15,
    retail: 89,
    leadTimeDays: 2,
    location: 'Bin E-2',
  },
  // Adhesives
  {
    id: 'i_3004',
    name: 'Adhesive Kit (Universal)',
    sku: 'ADH-KIT-UNI',
    category: 'adhesives',
    vendor: 'House Stock',
    onHand: 22,
    min: 10,
    unitCost: 2,
    retail: 9,
    leadTimeDays: 1,
    location: 'Bin F-1',
  },
  {
    id: 'i_3016',
    name: 'Screen Adhesive (iPhone)',
    sku: 'ADH-IP-SCR',
    category: 'adhesives',
    vendor: 'House Stock',
    onHand: 15,
    min: 10,
    unitCost: 3,
    retail: 12,
    leadTimeDays: 1,
    location: 'Bin F-2',
  },
  // Tools
  {
    id: 'i_3017',
    name: 'Pentalobe Screwdriver Set',
    sku: 'TOOL-PENT-SET',
    category: 'tools',
    vendor: 'House Stock',
    onHand: 4,
    min: 2,
    unitCost: 15,
    retail: 0,
    leadTimeDays: 1,
    location: 'Tool Cabinet',
  },
  {
    id: 'i_3018',
    name: 'Suction Cup (Heavy Duty)',
    sku: 'TOOL-SUC-HD',
    category: 'tools',
    vendor: 'House Stock',
    onHand: 6,
    min: 3,
    unitCost: 8,
    retail: 0,
    leadTimeDays: 1,
    location: 'Tool Cabinet',
  },
  // Accessories
  {
    id: 'i_3019',
    name: 'Screen Protector (Universal)',
    sku: 'ACC-SCRPRO-UNI',
    category: 'accessories',
    vendor: 'Nova Supply',
    onHand: 50,
    min: 20,
    unitCost: 2,
    retail: 15,
    leadTimeDays: 3,
    location: 'Display Case',
  },
  {
    id: 'i_3020',
    name: 'USB-C Cable (2m)',
    sku: 'ACC-USBC-2M',
    category: 'accessories',
    vendor: 'Nova Supply',
    onHand: 25,
    min: 10,
    unitCost: 4,
    retail: 19,
    leadTimeDays: 3,
    location: 'Display Case',
  },
]

export const ticketColumns: { key: TicketStatus; label: string }[] = [
  { key: 'INTAKE', label: 'Intake' },
  { key: 'DIAGNOSED', label: 'Diagnosed' },
  { key: 'WAITING_PARTS', label: 'Waiting Parts' },
  { key: 'IN_REPAIR', label: 'In Repair' },
  { key: 'READY', label: 'Ready' },
]

// ============ INVOICES ============

const addDays = (d: number) => iso(new Date(now.getTime() + d * 24 * 60 * 60 * 1000))

export const mockInvoices: Invoice[] = [
  {
    id: 'inv_001',
    invoiceNumber: 'INV-2025-042',
    ticketId: 't_1001',
    ticketNumber: 'FIX-1041',
    customerId: 'c_2001',
    customerName: 'Jordan Lee',
    customerEmail: 'jordan.lee@email.com',
    customerPhone: '(512) 555-0142',
    items: [
      { id: 'li1', type: 'part', description: 'iPhone 14 Pro Screen (OEM)', quantity: 1, unitPrice: 180, total: 180, warrantyIncluded: true },
      { id: 'li2', type: 'labor', description: 'Screen Installation', quantity: 1, unitPrice: 39, total: 39, warrantyIncluded: true },
    ],
    subtotal: 219,
    taxRate: 0.0825,
    taxAmount: 18.07,
    discount: 0,
    discountType: 'fixed',
    total: 237.07,
    status: 'paid',
    amountPaid: 237.07,
    amountDue: 0,
    issueDate: subDays(2),
    dueDate: addDays(5),
    paidDate: subDays(1),
    sentVia: 'email',
    sentAt: subDays(2),
    viewedAt: subDays(2),
    notes: 'Thank you for choosing Fixology! 90-day warranty included.',
    createdBy: 'Ava',
    createdAt: subDays(2),
    updatedAt: subDays(1),
  },
  {
    id: 'inv_002',
    invoiceNumber: 'INV-2025-041',
    ticketId: 't_1002',
    ticketNumber: 'FIX-1042',
    customerId: 'c_2002',
    customerName: 'Maya Patel',
    customerEmail: 'maya.patel@email.com',
    customerPhone: '(512) 555-0199',
    items: [
      { id: 'li3', type: 'part', description: 'Galaxy S23 Ultra Battery', quantity: 1, unitPrice: 110, total: 110, warrantyIncluded: true },
      { id: 'li4', type: 'labor', description: 'Battery Replacement', quantity: 1, unitPrice: 39, total: 39, warrantyIncluded: true },
    ],
    subtotal: 149,
    taxRate: 0.0825,
    taxAmount: 12.29,
    discount: 0,
    discountType: 'fixed',
    total: 161.29,
    status: 'sent',
    amountPaid: 0,
    amountDue: 161.29,
    issueDate: subDays(3),
    dueDate: addDays(4),
    sentVia: 'email',
    sentAt: subDays(3),
    viewedAt: subDays(2),
    createdBy: 'Noah',
    createdAt: subDays(3),
    updatedAt: subDays(3),
  },
  {
    id: 'inv_003',
    invoiceNumber: 'INV-2025-040',
    ticketId: 't_1003',
    ticketNumber: 'FIX-1043',
    customerId: 'c_2003',
    customerName: 'Chris Nguyen',
    customerEmail: 'chris.nguyen@email.com',
    customerPhone: '(512) 555-0111',
    items: [
      { id: 'li5', type: 'part', description: 'iPad Air LCD Assembly', quantity: 1, unitPrice: 280, total: 280, warrantyIncluded: true },
      { id: 'li6', type: 'labor', description: 'LCD Replacement', quantity: 1, unitPrice: 49, total: 49, warrantyIncluded: true },
    ],
    subtotal: 329,
    taxRate: 0.0825,
    taxAmount: 27.14,
    discount: 0,
    discountType: 'fixed',
    total: 356.14,
    status: 'partial',
    amountPaid: 100,
    amountDue: 256.14,
    issueDate: subDays(8),
    dueDate: subDays(1),
    sentVia: 'sms',
    sentAt: subDays(8),
    notes: 'Balance due on pickup',
    createdBy: 'Miles',
    createdAt: subDays(8),
    updatedAt: subDays(4),
  },
  {
    id: 'inv_004',
    invoiceNumber: 'INV-2025-039',
    customerId: 'c_2005',
    customerName: 'Aiden Kim',
    customerPhone: '(512) 555-0128',
    items: [
      { id: 'li7', type: 'part', description: 'iPhone 13 Screen (OEM)', quantity: 1, unitPrice: 160, total: 160, warrantyIncluded: true },
      { id: 'li8', type: 'labor', description: 'Screen Replacement', quantity: 1, unitPrice: 39, total: 39, warrantyIncluded: true },
    ],
    subtotal: 199,
    taxRate: 0.0825,
    taxAmount: 16.42,
    discount: 0,
    discountType: 'fixed',
    total: 215.42,
    status: 'paid',
    amountPaid: 215.42,
    amountDue: 0,
    issueDate: subDays(5),
    dueDate: addDays(2),
    paidDate: subDays(4),
    createdBy: 'Jae',
    createdAt: subDays(5),
    updatedAt: subDays(4),
  },
  {
    id: 'inv_005',
    invoiceNumber: 'INV-2025-038',
    customerId: 'c_2006',
    customerName: 'Samantha Reed',
    customerPhone: '(512) 555-0163',
    items: [
      { id: 'li9', type: 'part', description: 'Nintendo Switch Fan', quantity: 1, unitPrice: 50, total: 50, warrantyIncluded: true },
      { id: 'li10', type: 'labor', description: 'Fan Replacement', quantity: 1, unitPrice: 39, total: 39, warrantyIncluded: true },
    ],
    subtotal: 89,
    taxRate: 0.0825,
    taxAmount: 7.34,
    discount: 0,
    discountType: 'fixed',
    total: 96.34,
    status: 'overdue',
    amountPaid: 0,
    amountDue: 96.34,
    issueDate: subDays(12),
    dueDate: subDays(5),
    createdBy: 'Miles',
    createdAt: subDays(12),
    updatedAt: subDays(12),
  },
]

// ============ PAYMENTS ============

export const mockPayments: Payment[] = [
  {
    id: 'pay_001',
    invoiceId: 'inv_001',
    invoiceNumber: 'INV-2025-042',
    ticketId: 't_1001',
    ticketNumber: 'FIX-1041',
    customerId: 'c_2001',
    customerName: 'Jordan Lee',
    amount: 237.07,
    totalAmount: 237.07,
    method: 'card',
    reference: 'ch_1234567890',
    status: 'completed',
    processor: 'Stripe',
    processorFee: 7.18,
    netAmount: 229.89,
    collectedBy: 'tech_001',
    collectedByName: 'Ava',
    createdAt: subHours(4),
    updatedAt: subHours(4),
  },
  {
    id: 'pay_002',
    customerName: 'Walk-in Customer',
    amount: 35,
    totalAmount: 35,
    method: 'cash',
    status: 'completed',
    netAmount: 35,
    collectedBy: 'tech_001',
    collectedByName: 'Ava',
    createdAt: subHours(6),
    updatedAt: subHours(6),
  },
  {
    id: 'pay_003',
    invoiceId: 'inv_002',
    invoiceNumber: 'INV-2025-041',
    ticketId: 't_1002',
    ticketNumber: 'FIX-1042',
    customerName: 'Maya Patel',
    amount: 161.29,
    tip: 15,
    totalAmount: 176.29,
    method: 'cash-app',
    reference: 'CA_9876543210',
    status: 'completed',
    netAmount: 176.29,
    collectedBy: 'tech_003',
    collectedByName: 'Noah',
    createdAt: subHours(8),
    updatedAt: subHours(8),
  },
  {
    id: 'pay_004',
    invoiceId: 'inv_003',
    invoiceNumber: 'INV-2025-040',
    ticketId: 't_1003',
    ticketNumber: 'FIX-1043',
    customerName: 'Chris Nguyen',
    amount: 100,
    totalAmount: 100,
    method: 'cash',
    status: 'completed',
    netAmount: 100,
    collectedBy: 'tech_001',
    collectedByName: 'Ava',
    createdAt: subDays(4),
    updatedAt: subDays(4),
  },
  {
    id: 'pay_005',
    invoiceId: 'inv_004',
    invoiceNumber: 'INV-2025-039',
    customerName: 'Aiden Kim',
    amount: 215.42,
    totalAmount: 215.42,
    method: 'apple-pay',
    reference: 'AP_5432109876',
    status: 'completed',
    processor: 'Stripe',
    processorFee: 6.52,
    netAmount: 208.90,
    collectedBy: 'tech_005',
    collectedByName: 'Jae',
    createdAt: subDays(4),
    updatedAt: subDays(4),
  },
  {
    id: 'pay_006',
    customerName: 'Walk-in Customer',
    amount: 19,
    totalAmount: 19,
    method: 'card',
    reference: 'ch_0987654321',
    status: 'completed',
    processor: 'Stripe',
    processorFee: 0.85,
    netAmount: 18.15,
    collectedBy: 'tech_002',
    collectedByName: 'Miles',
    createdAt: subHours(2),
    updatedAt: subHours(2),
  },
  {
    id: 'pay_007',
    customerName: 'Elena Rodriguez',
    amount: 129,
    tip: 20,
    totalAmount: 149,
    method: 'venmo',
    reference: 'V_1122334455',
    status: 'completed',
    netAmount: 149,
    collectedBy: 'tech_004',
    collectedByName: 'Sofia',
    createdAt: subHours(10),
    updatedAt: subHours(10),
  },
]

// ============ ESTIMATES ============

export const mockEstimates: Estimate[] = [
  {
    id: 'est_001',
    estimateNumber: 'EST-2025-089',
    customerId: 'c_2001',
    customerName: 'Jordan Lee',
    customerPhone: '(512) 555-0142',
    customerEmail: 'jordan.lee@email.com',
    deviceType: 'iPhone',
    deviceModel: '14 Pro',
    deviceCondition: 'Cracked screen, device powers on',
    items: [
      { id: 'ei1', type: 'part', description: 'iPhone 14 Pro Screen (OEM)', quantity: 1, unitPrice: 180, total: 180 },
      { id: 'ei2', type: 'labor', description: 'Screen Installation', quantity: 1, unitPrice: 39, total: 39 },
    ],
    subtotal: 219,
    taxRate: 0.0825,
    taxAmount: 18.07,
    total: 237.07,
    status: 'approved',
    validUntil: addDays(7),
    approvedAt: subDays(3),
    convertedToTicketId: 't_1001',
    convertedAt: subDays(3),
    notes: 'Customer approved via digital signature',
    createdBy: 'Ava',
    createdAt: subDays(4),
    updatedAt: subDays(3),
  },
  {
    id: 'est_002',
    estimateNumber: 'EST-2025-088',
    customerId: 'c_2002',
    customerName: 'Maya Patel',
    customerPhone: '(512) 555-0199',
    customerEmail: 'maya.patel@email.com',
    deviceType: 'MacBook',
    deviceModel: 'Pro 14" (2023)',
    deviceCondition: 'Battery not holding charge',
    items: [
      { id: 'ei3', type: 'part', description: 'MacBook Pro 14 Battery', quantity: 1, unitPrice: 350, total: 350 },
      { id: 'ei4', type: 'labor', description: 'Battery Replacement', quantity: 1, unitPrice: 100, total: 100 },
    ],
    subtotal: 450,
    taxRate: 0.0825,
    taxAmount: 37.13,
    total: 487.13,
    status: 'sent',
    validUntil: addDays(3),
    notes: 'Recommend full diagnostic before repair',
    createdBy: 'Miles',
    createdAt: subDays(2),
    updatedAt: subDays(2),
  },
  {
    id: 'est_003',
    estimateNumber: 'EST-2025-087',
    customerId: 'c_2003',
    customerName: 'Chris Nguyen',
    customerPhone: '(512) 555-0111',
    deviceType: 'Samsung',
    deviceModel: 'S23',
    deviceCondition: 'Battery draining fast',
    items: [
      { id: 'ei5', type: 'part', description: 'Samsung S23 Battery', quantity: 1, unitPrice: 50, total: 50 },
      { id: 'ei6', type: 'labor', description: 'Battery Replacement', quantity: 1, unitPrice: 39, total: 39 },
    ],
    subtotal: 89,
    taxRate: 0.0825,
    taxAmount: 7.34,
    total: 96.34,
    status: 'declined',
    validUntil: subDays(1),
    declinedAt: subDays(2),
    declineReason: 'Price too high - will try elsewhere',
    createdBy: 'Noah',
    createdAt: subDays(5),
    updatedAt: subDays(2),
  },
  {
    id: 'est_004',
    estimateNumber: 'EST-2025-086',
    customerId: 'c_2007',
    customerName: 'Marcus Johnson',
    customerPhone: '(512) 555-0188',
    deviceType: 'iPhone',
    deviceModel: '12',
    deviceCondition: 'Charging port not working',
    items: [
      { id: 'ei7', type: 'part', description: 'iPhone 12 Charging Port', quantity: 1, unitPrice: 80, total: 80 },
      { id: 'ei8', type: 'labor', description: 'Port Replacement', quantity: 1, unitPrice: 49, total: 49 },
    ],
    subtotal: 129,
    taxRate: 0.0825,
    taxAmount: 10.64,
    total: 139.64,
    status: 'expired',
    validUntil: subDays(3),
    createdBy: 'Sofia',
    createdAt: subDays(10),
    updatedAt: subDays(10),
  },
  {
    id: 'est_005',
    estimateNumber: 'EST-2025-090',
    customerId: 'c_2008',
    customerName: 'Elena Rodriguez',
    customerPhone: '(512) 555-0195',
    customerEmail: 'elena.r@email.com',
    deviceType: 'iPad',
    deviceModel: 'Pro 11"',
    deviceCondition: 'Screen cracked',
    items: [
      { id: 'ei9', type: 'part', description: 'iPad Pro 11 Screen', quantity: 1, unitPrice: 220, total: 220 },
      { id: 'ei10', type: 'labor', description: 'Screen Installation', quantity: 1, unitPrice: 59, total: 59 },
      { id: 'ei11', type: 'accessory', description: 'Screen Protector', quantity: 1, unitPrice: 25, total: 25 },
    ],
    subtotal: 304,
    taxRate: 0.0825,
    taxAmount: 25.08,
    total: 329.08,
    status: 'draft',
    validUntil: addDays(7),
    internalNotes: 'Check for water damage indicators',
    createdBy: 'Jae',
    createdAt: subDays(1),
    updatedAt: subDays(1),
  },
]

// ============ WARRANTY CLAIMS ============

export const mockWarrantyClaims: WarrantyClaim[] = [
  {
    id: 'wc_001',
    ticketId: 't_old_001',
    ticketNumber: 'FIX-0987',
    customerId: 'c_2001',
    customerName: 'Jordan Lee',
    customerPhone: '(512) 555-0142',
    originalRepairDate: subDays(45),
    originalRepairType: 'Screen Replacement',
    originalTechId: 'tech_001',
    originalTechName: 'Ava',
    originalAmount: 219,
    warrantyPeriod: 90,
    warrantyExpires: addDays(45),
    warrantyType: 'full',
    claimDate: subDays(0),
    claimReason: 'Screen lifting',
    claimDescription: 'Customer reports screen is lifting from the frame on the left side',
    status: 'pending',
    createdAt: subDays(0),
    updatedAt: subDays(0),
  },
  {
    id: 'wc_002',
    ticketId: 't_old_002',
    ticketNumber: 'FIX-0954',
    customerId: 'c_2002',
    customerName: 'Maya Patel',
    customerPhone: '(512) 555-0199',
    originalRepairDate: subDays(30),
    originalRepairType: 'Battery Replacement',
    originalTechId: 'tech_003',
    originalTechName: 'Noah',
    originalAmount: 149,
    warrantyPeriod: 30,
    warrantyExpires: addDays(0),
    warrantyType: 'parts',
    claimDate: subDays(3),
    claimReason: 'Battery draining',
    claimDescription: 'Battery draining faster than before repair. Dies at 20%.',
    status: 'approved',
    resolution: 'Scheduled redo repair',
    resolutionType: 'redo',
    resolutionTicketId: 't_new_001',
    reviewedBy: 'Miles',
    reviewedAt: subDays(2),
    reviewNotes: 'Confirmed defective battery. Ordering replacement.',
    createdAt: subDays(3),
    updatedAt: subDays(2),
  },
  {
    id: 'wc_003',
    ticketId: 't_old_003',
    ticketNumber: 'FIX-0901',
    customerId: 'c_2003',
    customerName: 'Chris Nguyen',
    customerPhone: '(512) 555-0111',
    originalRepairDate: subDays(75),
    originalRepairType: 'Charging Port Replacement',
    originalTechId: 'tech_002',
    originalTechName: 'Miles',
    originalAmount: 179,
    warrantyPeriod: 60,
    warrantyExpires: subDays(15),
    warrantyType: 'full',
    claimDate: subDays(5),
    claimReason: 'Same issue',
    claimDescription: 'Phone not charging again, same issue as original repair',
    status: 'denied',
    reviewedBy: 'Sofia',
    reviewedAt: subDays(4),
    reviewNotes: 'Warranty expired. Offered 20% discount on new repair.',
    createdAt: subDays(5),
    updatedAt: subDays(4),
  },
  {
    id: 'wc_004',
    ticketId: 't_old_004',
    ticketNumber: 'FIX-0923',
    customerId: 'c_2005',
    customerName: 'Aiden Kim',
    customerPhone: '(512) 555-0128',
    originalRepairDate: subDays(60),
    originalRepairType: 'Screen Replacement',
    originalTechId: 'tech_005',
    originalTechName: 'Jae',
    originalAmount: 199,
    warrantyPeriod: 90,
    warrantyExpires: addDays(30),
    warrantyType: 'full',
    claimDate: subDays(7),
    claimReason: 'Touch not responding',
    claimDescription: 'Touch screen not responding in bottom right corner',
    status: 'completed',
    resolution: 'Screen replaced under warranty',
    resolutionType: 'redo',
    reviewedBy: 'Jae',
    reviewedAt: subDays(6),
    reviewNotes: 'Defective touch digitizer. Replaced with new screen.',
    createdAt: subDays(7),
    updatedAt: subDays(5),
  },
]


