<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inventory ‚Äî Fixology Dashboard</title>
    <link rel="icon" type="image/webp" href="https://i.ibb.co/GfPnk0zV/preview.webp">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Space+Grotesk:wght@500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@500;700&display=swap" rel="stylesheet">
    <style>
    :root{--lavender-400:#A78BFA;--lavender-500:#8B5CF6;--cyan-400:#22D3EE;--success:#22C55E;--warning:#F59E0B;--danger:#EF4444;--surface-0:#000;--surface-1:#09090B;--surface-2:#0F0F12;--surface-3:#16161A;--surface-4:#1C1C22;--text-primary:#FAFAFA;--text-secondary:#A1A1AA;--text-tertiary:#71717A;--text-muted:#52525B;--border-subtle:rgba(255,255,255,0.04);--border-default:rgba(255,255,255,0.08);--gradient-lavender:linear-gradient(135deg,#A78BFA,#8B5CF6,#7C3AED)}
    *{box-sizing:border-box;margin:0;padding:0}body{font-family:'Inter',sans-serif;background:var(--surface-1);color:var(--text-primary);line-height:1.5}a{color:inherit;text-decoration:none}button{font:inherit;cursor:pointer;border:none;background:none}
    .dashboard{display:grid;grid-template-columns:260px 1fr;min-height:100vh}
    .sidebar{background:var(--surface-0);border-right:1px solid var(--border-subtle);padding:24px 16px;display:flex;flex-direction:column}
    .sidebar-logo{display:flex;align-items:center;gap:12px;padding:0 8px 24px;margin-bottom:8px;border-bottom:1px solid var(--border-subtle)}
    .sidebar-logo img{width:44px;height:44px;border-radius:0;filter:drop-shadow(0 0 12px rgba(139,92,246,0.6))}
    .sidebar-logo span{font-family:'Space Grotesk',system-ui,sans-serif;font-size:1.25rem;font-weight:700;color:#EDE9FE}
    .sidebar-nav{flex:1;display:flex;flex-direction:column;gap:4px}
    .sidebar-link{display:flex;align-items:center;gap:12px;padding:12px 16px;border-radius:10px;font-size:14px;font-weight:500;color:var(--text-secondary);transition:all 0.15s}
    .sidebar-link:hover{background:var(--surface-3);color:var(--text-primary)}
    .sidebar-link.active{background:rgba(139,92,246,0.15);color:var(--lavender-400)}
    .sidebar-link span:first-child{font-size:18px}
    .sidebar-section{font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:1px;color:var(--text-muted);padding:24px 16px 8px}
    .main{display:flex;flex-direction:column}
    .breadcrumb{font-size:12px;color:var(--text-muted);margin-bottom:4px}.breadcrumb a{color:var(--text-secondary);text-decoration:none}.breadcrumb a:hover{color:var(--lavender-400)}
    .topbar{display:flex;align-items:center;justify-content:space-between;padding:16px 32px;background:var(--surface-2);border-bottom:1px solid var(--border-subtle)}
    .topbar-left h1{font-size:1.25rem;font-weight:600}
    .topbar-right{display:flex;align-items:center;gap:12px}
    .btn{display:inline-flex;align-items:center;justify-content:center;gap:8px;padding:10px 18px;font-size:14px;font-weight:600;border-radius:10px}
    .btn-primary{background:var(--gradient-lavender);color:white}
    .btn-secondary{background:var(--surface-4);color:var(--text-primary);border:1px solid var(--border-default)}
    .btn-warning{background:rgba(245,158,11,0.15);color:var(--warning);border:1px solid rgba(245,158,11,0.3)}
    .content{flex:1;padding:32px;overflow-y:auto}
    .alerts{margin-bottom:24px}
    .alert{display:flex;align-items:center;gap:12px;padding:14px 20px;background:rgba(239,68,68,0.1);border:1px solid rgba(239,68,68,0.2);border-radius:0;margin-bottom:12px}
    .alert-icon{font-size:20px}
    .alert-text{flex:1;font-size:14px}
    .alert-text strong{color:var(--danger)}
    .alert-action{font-size:13px;font-weight:600;color:var(--danger);cursor:pointer}
    .stats-row{display:grid;grid-template-columns:repeat(4,1fr);gap:20px;margin-bottom:32px}
    .stat-card{background:var(--surface-3);border:1px solid var(--border-subtle);border-radius:0;padding:20px}
    .stat-value{font-size:1.75rem;font-weight:700;margin-bottom:4px}
    .stat-label{font-size:13px;color:var(--text-muted)}
    .inventory-table{background:var(--surface-3);border:1px solid var(--border-subtle);border-radius:16px;overflow:hidden}
    .table{width:100%;border-collapse:collapse}
    .table th,.table td{text-align:left;padding:14px 20px;border-bottom:1px solid var(--border-subtle)}
    .table th{font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:0.5px;color:var(--text-muted);background:var(--surface-4)}
    .table td{font-size:14px}
    .table tr:last-child td{border-bottom:none}
    .table tr:hover td{background:var(--surface-4)}
    .part-info{display:flex;align-items:center;gap:12px}
    .part-icon{width:36px;height:36px;background:var(--surface-4);border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:16px}
    .part-name{font-weight:500}
    .part-sku{font-size:12px;color:var(--text-muted)}
    .stock-level{display:flex;align-items:center;gap:8px}
    .stock-bar{width:60px;height:6px;background:var(--surface-4);border-radius:3px;overflow:hidden}
    .stock-fill{height:100%;border-radius:3px}
    .stock-fill.high{background:var(--success);width:80%}
    .stock-fill.medium{background:var(--warning);width:40%}
    .stock-fill.low{background:var(--danger);width:15%}
    .stock-count{font-size:13px}
    .stock-count.low{color:var(--danger);font-weight:600}
    .price{font-weight:500}
    .supplier{font-size:13px;color:var(--text-tertiary)}
    .reorder-btn{padding:6px 12px;font-size:12px;background:var(--surface-4);border-radius:6px;color:var(--text-secondary)}
    .reorder-btn.urgent{background:rgba(239,68,68,0.15);color:var(--danger)}
    @media(max-width:1024px){.dashboard{grid-template-columns:1fr}.sidebar{display:none}.stats-row{grid-template-columns:repeat(2,1fr)}}
    </style>
</head>
<body>
    <div class="dashboard">
        <aside class="sidebar">
            <a href="../index.html" class="sidebar-logo"><img src="https://i.ibb.co/GfPnk0zV/preview.webp" alt="Fixology"><span>Fixology</span></a>
            <nav class="sidebar-nav">
                <a href="preview.html" class="sidebar-link"><span>üìä</span> Dashboard</a>
                <a href="repairs.html" class="sidebar-link"><span>üîß</span> Repairs</a>
                <a href="customers.html" class="sidebar-link"><span>üë•</span> Customers</a>
                <a href="inventory.html" class="sidebar-link active"><span>üì¶</span> Inventory</a>
                <a href="invoices.html" class="sidebar-link"><span>üí≥</span> Invoices</a>
                <div class="sidebar-section">AI Tools</div>
                <a href="diagnostics.html" class="sidebar-link"><span>üß†</span> Diagnostics</a>
                <a href="imei.html" class="sidebar-link"><span>üì±</span> IMEI Lookup</a>
                <a href="auto-reply.html" class="sidebar-link"><span>üí¨</span> Auto-Reply</a>
                <div class="sidebar-section">Settings</div>
                <a href="settings.html" class="sidebar-link"><span>‚öôÔ∏è</span> Settings</a>
            </nav>
                <div style="padding:12px;border-top:1px solid var(--border-subtle)"><a href="../admin/index.html" style="display:flex;align-items:center;gap:10px;padding:12px 16px;font-size:13px;font-weight:500;color:var(--lavender-400);background:rgba(139,92,246,0.1);border-radius:10px;text-decoration:none">üëë Admin Console</a></div>
    </aside>
        <main class="main">
            <header class="topbar">
                <div class="topbar-left"><h1>Inventory</h1></div>
                <div class="topbar-right">
                    <button class="btn btn-warning">‚ö†Ô∏è 3 Low Stock</button>
                    <button class="btn btn-secondary">Import</button>
                    <button class="btn btn-primary" onclick="openAddInventoryModal()">+ Add Part</button>
                </div>
            </header>
            <div class="content">
                <div class="alerts" id="low-stock-banner" style="display:none">
                    <!-- Low stock alerts will be populated by JS -->
                </div>
                <div class="stats-row">
                    <div class="stat-card"><div class="stat-value" id="stat-total-parts">0</div><div class="stat-label">Total Parts</div></div>
                    <div class="stat-card"><div class="stat-value" id="stat-inventory-value">$0</div><div class="stat-label">Inventory Value</div></div>
                    <div class="stat-card"><div class="stat-value" id="stat-low-stock">0</div><div class="stat-label">Low Stock Items</div></div>
                    <div class="stat-card"><div class="stat-value">0</div><div class="stat-label">On Order</div></div>
                </div>
                <div class="inventory-table">
                    <table class="table">
                        <thead><tr><th>Part</th><th>Category</th><th>Stock</th><th>Cost</th><th>Price</th><th>Supplier</th><th></th></tr></thead>
                        <tbody id="inventory-table-body">
                            <tr>
                                <td colspan="7" style="text-align:center;padding:40px;color:var(--text-muted)">Loading inventory...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </main>
    </div>


    <!-- Inventory Modal -->
    <div class="modal-overlay" id="inventory-modal" style="display:none;position:fixed;inset:0;background:rgba(0,0,0,0.7);z-index:1000;align-items:center;justify-content:center">
        <div class="modal" style="background:var(--surface-2);border-radius:16px;padding:0;max-width:600px;width:90%;max-height:90vh;overflow-y:auto">
            <div style="padding:20px;border-bottom:1px solid var(--border-subtle);display:flex;align-items:center;justify-content:space-between">
                <h3 style="font-size:1.25rem;font-weight:600" id="modal-title">Add Inventory Item</h3>
                <button onclick="window.FixologyApp.closeModal('inventory-modal')" style="background:none;border:none;color:var(--text-secondary);font-size:24px;cursor:pointer;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:8px">√ó</button>
            </div>
            <form id="inventory-form" style="padding:20px">
                <input type="hidden" name="item_id" id="item-id">
                <div style="margin-bottom:20px">
                    <label style="display:block;font-size:13px;font-weight:500;color:var(--text-secondary);margin-bottom:8px">Name *</label>
                    <input type="text" name="name" id="item-name" required style="width:100%;padding:10px 14px;background:var(--surface-3);border:1px solid var(--border-subtle);border-radius:10px;color:var(--text-primary);font-size:14px">
                </div>
                <div style="margin-bottom:20px">
                    <label style="display:block;font-size:13px;font-weight:500;color:var(--text-secondary);margin-bottom:8px">SKU *</label>
                    <input type="text" name="sku" id="item-sku" required style="width:100%;padding:10px 14px;background:var(--surface-3);border:1px solid var(--border-subtle);border-radius:10px;color:var(--text-primary);font-size:14px">
                </div>
                <div style="margin-bottom:20px">
                    <label style="display:block;font-size:13px;font-weight:500;color:var(--text-secondary);margin-bottom:8px">Category</label>
                    <input type="text" name="category" id="item-category" style="width:100%;padding:10px 14px;background:var(--surface-3);border:1px solid var(--border-subtle);border-radius:10px;color:var(--text-primary);font-size:14px">
                </div>
                <div style="display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:20px">
                    <div>
                        <label style="display:block;font-size:13px;font-weight:500;color:var(--text-secondary);margin-bottom:8px">Cost Price *</label>
                        <input type="number" name="cost_price" id="item-cost" step="0.01" required style="width:100%;padding:10px 14px;background:var(--surface-3);border:1px solid var(--border-subtle);border-radius:10px;color:var(--text-primary);font-size:14px">
                    </div>
                    <div>
                        <label style="display:block;font-size:13px;font-weight:500;color:var(--text-secondary);margin-bottom:8px">Sell Price *</label>
                        <input type="number" name="sell_price" id="item-sell" step="0.01" required style="width:100%;padding:10px 14px;background:var(--surface-3);border:1px solid var(--border-subtle);border-radius:10px;color:var(--text-primary);font-size:14px">
                    </div>
                </div>
                <div style="display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:20px">
                    <div>
                        <label style="display:block;font-size:13px;font-weight:500;color:var(--text-secondary);margin-bottom:8px">Current Stock</label>
                        <input type="number" name="current_stock" id="item-stock" value="0" style="width:100%;padding:10px 14px;background:var(--surface-3);border:1px solid var(--border-subtle);border-radius:10px;color:var(--text-primary);font-size:14px">
                    </div>
                    <div>
                        <label style="display:block;font-size:13px;font-weight:500;color:var(--text-secondary);margin-bottom:8px">Min Stock</label>
                        <input type="number" name="min_stock" id="item-min-stock" value="5" style="width:100%;padding:10px 14px;background:var(--surface-3);border:1px solid var(--border-subtle);border-radius:10px;color:var(--text-primary);font-size:14px">
                    </div>
                </div>
                <div style="margin-bottom:24px">
                    <label style="display:block;font-size:13px;font-weight:500;color:var(--text-secondary);margin-bottom:8px">Supplier</label>
                    <input type="text" name="supplier" id="item-supplier" style="width:100%;padding:10px 14px;background:var(--surface-3);border:1px solid var(--border-subtle);border-radius:10px;color:var(--text-primary);font-size:14px">
                </div>
                <div style="display:flex;gap:12px;justify-content:flex-end">
                    <button type="button" onclick="window.FixologyApp.closeModal('inventory-modal')" class="btn btn-secondary">Cancel</button>
                    <button type="submit" class="btn btn-primary">Save Item</button>
                </div>
            </form>
        </div>
    </div>

    <script src="js/app.js"></script>
    <script src="js/inventory.js"></script>
</body>
</html>
